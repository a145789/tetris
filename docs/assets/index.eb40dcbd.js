import{d as e,r,o as n,u as t,c as o,F as s,a,b as l,e as c,f}from"./vendor.73278f97.js";var g,i,p,h,b,d;function u(){const e=[{name:"space",bg:"bg-f1707d",shape:[[34,1],[34,2],[33,1],[33,2]]},{name:"left-l",bg:"bg-f15536",shape:[[34,1],[33,1],[33,2],[33,3],[33,4]]},{name:"right-l",bg:"bg-ddff95",shape:[[34,4],[33,1],[33,2],[33,3],[33,4]]},{name:"tanke",bg:"bg-f1b8f1",shape:[[34,2],[33,1],[33,2],[33,3]]},{name:"left-z",bg:"bg-b8f1ed",shape:[[34,1],[34,2],[33,2],[33,3]]},{name:"right-z",bg:"bg-f3d751",shape:[[34,2],[34,3],[33,1],[33,2]]},{name:"line",bg:"bg-ac5e74",shape:[[34,1],[34,2],[34,3],[34,4]]}];return e[Math.floor(Math.random()*e.length)]}(i=g||(g={})).ArrowUp="ArrowUp",i.ArrowLeft="ArrowLeft",i.ArrowDown="ArrowDown",i.ArrowRight="ArrowRight",(h=p||(p={}))[h.Y=0]="Y",h[h.X=1]="X",(d=b||(b={}))[d.add=0]="add",d[d.cut=1]="cut",d[d.other=2]="other";const m=e({name:"HelloWorld",setup:()=>{const e=r(Array.from({length:35}).fill(0).map((()=>Array.from({length:20}).map((()=>({bg:""})))))),t=[];for(let r=0;r<e.length;r++)t[34-r]=e[r];let o,{shape:s,bg:a,name:l}=u();function c(r,n,t,o){const a=JSON.parse(JSON.stringify(s));if(2!==r){for(let e=0,t=s.length;e<t;e++)1===r?a[e][n]--:a[e][n]++;if(a.some((e=>t(e[n])))||((r,n,t)=>{const o=[0,1].find((e=>e!==n));return r.reduce(((e,r)=>{const s=e.findIndex((e=>e[o]===r[o]));return-1!==s?t(e[s][n],r[n])&&e.splice(s,1,r):e.push(r),e}),[]).some((([r,n])=>""!==e[r][n].bg))})(a,n,o))return!0}else{const[r,n]=s[Math.ceil(a.length/2)];for(let e=0,t=s.length;e<t;e++){const[t,o]=s[e];t>=r&&(a[e][1]=n-(t-r)),t<=r&&(a[e][1]=n+r-t),o>=n&&(a[e][0]=r+o-n),o<=n&&(a[e][0]=r-(n-o))}if(a.some((([e,r])=>e<0||35===e||r<0||20===r))||a.reduce(((e,r)=>(s.some((([e,n])=>e===r[0]&&n===r[1]))||e.push(r),e)),[]).some((([r,n])=>""!==e[r][n].bg)))return!1}return f(a),!1}const f=(r=s)=>{for(const[n,t]of s)e[n][t].bg="";for(const[n,t]of r)e[n][t].bg=a;s=r},i=()=>{if(c(1,0,(e=>e<0),((e,r)=>e>r))){for(let r=0;r<e.length;r++){if(e[r].every((e=>""!==e.bg))){for(let n=r;n<e.length;n++){const r=e[n+1];e[n].forEach(((t,o)=>{t.bg=n+1!==e.length?r[o].bg:""}))}r--}}({shape:s,bg:a,name:l}=u())}};return n((()=>{window.addEventListener("keydown",(({key:e})=>{if(e in g)switch(clearInterval(o),e){case g.ArrowUp:if("space"===l)return;c(2);break;case g.ArrowLeft:c(1,1,(e=>e<0),((e,r)=>e>r));break;case g.ArrowDown:i();break;case g.ArrowRight:c(0,1,(e=>20===e),((e,r)=>e<r))}})),window.addEventListener("keyup",(({key:e})=>{if(e in g){switch(e){case g.ArrowUp:case g.ArrowLeft:case g.ArrowDown:case g.ArrowRight:}o=setInterval(i,300)}})),f(),o=setInterval(i,300)})),{spaceListComp:t,SIZE:20,BOX_HIGHT:35,BOX_WIDTH:20}}}),w=()=>{t((e=>({"6c306a06":e.SIZE+"px"})))},A=m.setup;m.setup=A?(e,r)=>(w(),A(e,r)):w;const v={class:"box"},k={class:"line"};m.render=function(e,r,n,t,c,f){return l(),o("div",v,[(l(!0),o(s,null,a(e.spaceListComp,(e=>(l(),o("div",k,[(l(!0),o(s,null,a(e,(e=>(l(),o("div",{class:`bg ${e.bg}`},null,2)))),256))])))),256))])};var y=e({name:"App",components:{HelloWorld:m}});y.render=function(e,r,n,t,s,a){const f=c("HelloWorld");return l(),o(f)},f(y).mount("#app");
